<!-- app/views/recipes/index.html.erb -->

<div class="container mx-auto px-4">
  <h1 class="text-2xl font-bold my-8">Recipe Search</h1>

  <%= form_with(url: recipes_path, method: "get", local: true, class: "mb-8") do |form| %>
    <%= label_tag :search, "Enter ingredients (separated by commas):", class: "self-center" %>
    <div class="flex gap-2">
      <%= text_field_tag :search, params[:search], placeholder: 'chicken, cheese, flour', class: "form-input mt-1 block w-full rounded-md border-gray-300 shadow-sm" %>
      <%= submit_tag "Search", class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
    </div>
  <% end %>

  <h2 class="text-xl font-semibold mb-4">Recipes</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <% @recipes.each do |recipe| %>
      <div class="recipe-card bg-white rounded-lg shadow-lg overflow-hidden">
        <%= image_tag recipe.image, alt: recipe.title, class: "w-full h-48 object-cover" %>
        <div class="p-4">
          <h3 class="text-lg font-semibold"><%= recipe.title %></h3>
          <p class="text-gray-600"><%= pluralize(recipe.cook_time, 'minute') %></p>
          <ul class="list-disc pl-5">
            <% recipe.ingredients.each do |ingredient| %>
              <li class="text-gray-700"><%= ingredient.name %></li>
            <% end %>
          </ul>
        </div>
      </div>
    <% end %>
  </div>
</div>
